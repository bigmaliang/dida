import pg

cities = {
    u'dongying': {'s': u'\u4e1c\u8425'},
    u'yinchuan': {'s': u'\u94f6\u5ddd'},
    u'ningxia': {'s': u'\u5b81\u590f'},
    u'sichuan': {'s': u'\u56db\u5ddd'},
    u'zhengzhou': {'s': u'\u90d1\u5dde'},
    u'anhui': {'s': u'\u5b89\u5fbd'},
    u'shenyang': {'s': u'\u6c88\u9633'},
    u'linyi': {'s': u'\u4e34\u6c82'},
    u'shanghai': {'s': u'\u4e0a\u6d77'},
    u'xizang': {'s': u'\u897f\u85cf'},
    u'hainan': {'s': u'\u6d77\u5357'},
    u'neimenggu': {'s': u'\u5185\u8499\u53e4'},
    u'nantongshi': {'s': u'\u5357\u901a\u5e02'},
    u'zhejiang': {'s': u'\u6d59\u6c5f'},
    u'nanjing': {'s': u'\u5357\u4eac'},
    u'huaian': {'s': u'\u6dee\u5b89'},
    u'heilongjiang': {'s': u'\u9ed1\u9f99\u6c5f'},
    u'xinjiang': {'s': u'\u65b0\u7586'},
    u'xiamen': {'s': u'\u53a6\u95e8'},
    u'sanya': {'s': u'\u4e09\u4e9a'},
    u'weihai': {'s': u'\u5a01\u6d77'},
    u'nanning': {'s': u'\u5357\u5b81'},
    u'huhehaote': {'s': u'\u547c\u548c\u6d69\u7279'},
    u'yangzhou': {'s': u'\u626c\u5dde'},
    u'foshan': {'s': u'\u4f5b\u5c71'},
    u'guiyang': {'s': u'\u8d35\u9633'},
    u'hangzhou': {'s': u'\u676d\u5dde'},
    u'fuzhou': {'s': u'\u798f\u5dde'},
    u'shaoxing': {'s': u'\u7ecd\u5174'},
    u'guizhou': {'s': u'\u8d35\u5dde'},
    u'dongguan': {'s': u'\u4e1c\u839e'},
    u'fujian': {'s': u'\u798f\u5efa'},
    u'jingzhou': {'s': u'\u8346\u5dde'},
    u'huizhou': {'s': u'\u60e0\u5dde'},
    u'jinhua': {'s': u'\u91d1\u534e'},
    u'changsha': {'s': u'\u957f\u6c99'},
    u'jilin': {'s': u'\u5409\u6797'},
    u'jining': {'s': u'\u6d4e\u5b81'},
    u'wulumuqi': {'s': u'\u4e4c\u9c81\u6728\u9f50'},
    u'tianjin': {'s': u'\u5929\u6d25'},
    u'xingtai': {'s': u'\u90a2\u53f0'},
    u'wuxi': {'s': u'\u65e0\u9521'},
    u'hebei': {'s': u'\u6cb3\u5317'},
    u'jiangmen': {'s': u'\u6c5f\u95e8'},
    u'qinhuangdao': {'s': u'\u79e6\u7687\u5c9b'},
    u'guangzhou': {'s': u'\u5e7f\u5dde'},
    u'hefei': {'s': u'\u5408\u80a5'},
    u'yunnan': {'s': u'\u4e91\u5357'},
    u'wuhan': {'s': u'\u6b66\u6c49'},
    u'hubei': {'s': u'\u6e56\u5317'},
    u'luoyang': {'s': u'\u6d1b\u9633'},
    u'xuzhou': {'s': u'\u5f90\u5dde'},
    u'qingdao': {'s': u'\u9752\u5c9b'},
    u'chongqing': {'s': u'\u91cd\u5e86'},
    u'suqian': {'s': u'\u5bbf\u8fc1'},
    u'cangzhou': {'s': u'\u6ca7\u5dde'},
    u'shaanxi': {'s': u'\u9655\u897f'},
    u'changzhou': {'s': u'\u5e38\u5dde'},
    u'hengshui': {'s': u'\u8861\u6c34'},
    u'rizhao': {'s': u'\u65e5\u7167'},
    u'weifang': {'s': u'\u6f4d\u574a'},
    u'chengdu': {'s': u'\u6210\u90fd'},
    u'guangxi': {'s': u'\u5e7f\u897f'},
    u'xiangtan': {'s': u'\u6e58\u6f6d'},
    u'jinan': {'s': u'\u6d4e\u5357'},
    u'qinghai': {'s': u'\u9752\u6d77'},
    u'zibo': {'s': u'\u6dc4\u535a'},
    u'zhuzhou': {'s': u'\u682a\u6d32'},
    u'langfang': {'s': u'\u5eca\u574a'},
    u'liaoning': {'s': u'\u8fbd\u5b81'},
    u'taian': {'s': u'\u6cf0\u5b89'},
    u'guangdong': {'s': u'\u5e7f\u4e1c'},
    u'zhenjiang': {'s': u'\u9547\u6c5f'},
    u'guilin': {'s': u'\u6842\u6797'},
    u'lianyungang': {'s': u'\u8fde\u4e91\u6e2f'},
    u'zhongshan': {'s': u'\u4e2d\u5c71'},
    u'gansu': {'s': u'\u7518\u8083'},
    u'lanzhou': {'s': u'\u5170\u5dde'},
    u'zhuhai': {'s': u'\u73e0\u6d77'},
    u'kunming': {'s': u'\u6606\u660e'},
    u'jiaxing': {'s': u'\u5609\u5174'},
    u'taizhou': {'s': u'\u53f0\u5dde'},
    u'jiangsu': {'s': u'\u6c5f\u82cf'},
    u'dezhou': {'s': u'\u5fb7\u5dde'},
    u'wenzhou': {'s': u'\u6e29\u5dde'},
    u'shijiazhuang': {'s': u'\u77f3\u5bb6\u5e84'},
    u'liuzhou': {'s': u'\u67f3\u5dde'},
    u'ningbo': {'s': u'\u5b81\u6ce2'},
    u'yichang': {'s': u'\u5b9c\u660c'},
    u'suzhou': {'s': u'\u82cf\u5dde'},
    u'beijing': {'s': u'\u5317\u4eac'},
    u'shandong': {'s': u'\u5c71\u4e1c'},
    u'dalian': {'s': u'\u5927\u8fde'},
    u'hunan': {'s': u'\u6e56\u5357'},
    u'xian': {'s': u'\u897f\u5b89'},
    u'shanxi': {'s': u'\u5c71\u897f'},
    u'mianyang': {'s': u'\u7ef5\u9633'},
    u'nanyang': {'s': u'\u5357\u9633'},
    u'henan': {'s': u'\u6cb3\u5357'},
    u'shenzhen': {'s': u'\u6df1\u5733'},
    u'baoding': {'s': u'\u4fdd\u5b9a'},
    u'taiyuan': {'s': u'\u592a\u539f'},
    u'yantai': {'s': u'\u70df\u53f0'},
    u'yancheng': {'s': u'\u76d0\u57ce'},
    u'haerbin': {'s': u'\u54c8\u5c14\u6ee8'},
    u'quanzhou': {'s': u'\u6cc9\u5dde'},
    u'changchun': {'s': u'\u957f\u6625'},
    u'baotou': {'s': u'\u5305\u5934'},
    u'nanchang': {'s': u'\u5357\u660c'},
    u'liaocheng': {'s': u'\u804a\u57ce'},
    u'haikou': {'s': u'\u6d77\u53e3'},
    u'daqing': {'s': u'\u5927\u5e86'},
    u'tangshan': {'s': u'\u5510\u5c71'},
    u'xiangfan': {'s': u'\u8944\u6a0a'},
    u'anshan': {'s': u'\u978d\u5c71'},
    u'jiangxi': {'s': u'\u6c5f\u897f'}}

con = pg.connect(dbname='merry',
                 host='localhost',
                 user='dida',
                 passwd='loveu')

for c in cities:
    s = "SELECT id FROM city WHERE s='" +cities[c]['s']+ "'"
    x = con.query(s.encode('utf-8'))
    if (x.ntuples() < 1):
        s = "SELECT id FROM city WHERE s LIKE'" +cities[c]['s']+ "%'"
        x = con.query(s.encode('utf-8'))
    r = x.getresult()

    if (x.ntuples() < 1): pass #print s
    else: cities[c]['id'] = r[0][0]

print cities





